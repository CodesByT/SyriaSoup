import AsyncStorage from "@react-native-async-storage/async-storage";
import i18n from "i18next";
import { initReactI18next } from "react-i18next";

// Simple translation objects - you can expand these
const en = {
  home: "Home",
  favorites: "Favorites",
  placeAd: "Place Ad",
  chat: "Chat",
  profile: "Profile",
  login: "Login",
  register: "Register",
  forgotPassword: "Forgot Password",
  username: "Username",
  phoneNumber: "Phone Number",
  password: "Password",
  confirmPassword: "Confirm Password",
  enterUsername: "Enter username",
  enterPhoneNumber: "Enter phone number",
  enterPassword: "Enter password",
  enterConfirmPassword: "Confirm your password",
  loginButton: "Login",
  registerButton: "Register",
  forgotPasswordButton: "Forgot Password?",
  dontHaveAccount: "Don't have an account?",
  alreadyHaveAccount: "Already have an account?",
  resetPassword: "Reset Password",
  sendOTP: "Send OTP",
  verifyOTP: "Verify OTP",
  newPassword: "New Password",
  enterNewPassword: "Enter new password",
  resetPasswordButton: "Reset Password",
  profileTab: "Profile",
  myListingsTab: "My Listings",
  tapToChangePhoto: "Tap to change photo",
  editProfile: "Edit Profile",
  saveProfile: "Save Profile",
  cancel: "Cancel",
  appSettings: "App Settings",
  language: "Language",
  aboutUs: "About Us",
  termsOfUse: "Terms of Use",
  privacyPolicy: "Privacy Policy",
  contactUs: "Contact Us",
  logoutButton: "Logout",
  noListings: "No Listings Yet",
  noListingsDescription:
    "You haven't posted any listings yet. Add your first listing now!",
  addListing: "Add Listing",
  accountRequired: "Account Required",
  loginToAccessProfile:
    "Please login to access your profile and manage your listings.",
  error: "Error",
  success: "Success",
  failedToFetchProfile: "Failed to fetch profile details",
  failedToFetchListings: "Failed to fetch your listings",
  photoPermissionRequired: "Permission to access photos is required",
  profileImageUpdated: "Profile image updated successfully",
  failedToUpdateImage: "Failed to update profile image",
  profileUpdated: "Profile updated successfully",
  failedToUpdateProfile: "Failed to update profile",
  loggedOut: "Logged out successfully",
  failedToLogout: "Failed to logout",
  languageChanged: "Language changed successfully",
  languageChangeFailed: "Failed to change language",
  listingDeleted: "Listing deleted successfully",
  failedToDeleteListing: "Failed to delete listing",
  confirmDelete: "Confirm Delete",
  deleteListingConfirmMessage:
    "Are you sure you want to delete this listing? This action cannot be undone.",
  delete: "Delete",
  confirmLogout: "Confirm Logout",
  logoutConfirmMessage: "Are you sure you want to logout from your account?",
  logout: "Logout",
  aboutUsContent:
    "Syria Souq is a platform for buying and selling cars in Syria. We aim to provide a seamless experience for our users.",
  termsOfUseContent:
    "By using our app, you agree to our terms of use. Please read them carefully.",
  privacyPolicyContent:
    "We value your privacy. Read our privacy policy to understand how we collect and use your data.",
  contactUsContent:
    "For any inquiries, please contact us at support@syriasouq.com or call +963 11 1234567.",
  phone: "Phone",
  email: "Email",
  welcome: "Welcome",
  loading: "Loading...",
  save: "Save",
  edit: "Edit",
  search: "Search",
  filter: "Filter",
  sort: "Sort",
  price: "Price",
  location: "Location",
  category: "Category",
  description: "Description",
  images: "Images",
  contact: "Contact",
  seller: "Seller",
  buyer: "Buyer",
  message: "Message",
  send: "Send",
  received: "Received",
  online: "Online",
  offline: "Offline",
  settings: "Settings",
  notifications: "Notifications",
  privacy: "Privacy",
  terms: "Terms & Conditions",
  about: "About",
  help: "Help",
  support: "Support",
  version: "Version",
  find_your_perfect_car: "Find Your Perfect Car",
  syria_souq: "Syria Souq",
  recent_listings: "Recent Listings",
  view_all: "View All",
  all_available_cars: "All Available Cars",
};

const ar = {
  find_your_perfect_car: "اعثر على سيارتك المثالية",
  recent_listings: "القوائم الأخيرة",
  view_all: "عرض الكل",
  all_available_cars: "جميع السيارات المتاحة",
  // test: "test",
  // test: "test",
  // test: "test",
  // test: "test",
  // test: "test",
  // test: "test",
  home: "الرئيسية",
  syria_souq: "سوق سوريا",
  favorites: "المفضلة",
  placeAd: "إضافة إعلان",
  chat: "المحادثات",
  profile: "الملف الشخصي",
  login: "تسجيل الدخول",
  register: "إنشاء حساب",
  forgotPassword: "نسيت كلمة المرور",
  username: "اسم المستخدم",
  phoneNumber: "رقم الهاتف",
  password: "كلمة المرور",
  confirmPassword: "تأكيد كلمة المرور",
  enterUsername: "أدخل اسم المستخدم",
  enterPhoneNumber: "أدخل رقم الهاتف",
  enterPassword: "أدخل كلمة المرور",
  enterConfirmPassword: "أكد كلمة المرور",
  loginButton: "تسجيل الدخول",
  registerButton: "إنشاء حساب",
  forgotPasswordButton: "نسيت كلمة المرور؟",
  dontHaveAccount: "ليس لديك حساب؟",
  alreadyHaveAccount: "لديك حساب بالفعل؟",
  resetPassword: "إعادة تعيين كلمة المرور",
  sendOTP: "إرسال رمز التحقق",
  verifyOTP: "التحقق من الرمز",
  newPassword: "كلمة المرور الجديدة",
  enterNewPassword: "أدخل كلمة المرور الجديدة",
  resetPasswordButton: "إعادة تعيين كلمة المرور",
  profileTab: "الملف الشخصي",
  myListingsTab: "إعلاناتي",
  tapToChangePhoto: "انقر لتغيير الصورة",
  editProfile: "تعديل الملف الشخصي",
  saveProfile: "حفظ التغييرات",
  cancel: "إلغاء",
  appSettings: "إعدادات التطبيق",
  language: "اللغة",
  aboutUs: "من نحن",
  termsOfUse: "شروط الاستخدام",
  privacyPolicy: "سياسة الخصوصية",
  contactUs: "اتصل بنا",
  logoutButton: "تسجيل الخروج",
  noListings: "لا توجد إعلانات بعد",
  noListingsDescription: "لم تقم بنشر أي إعلانات بعد. أضف إعلانك الأول الآن!",
  addListing: "إضافة إعلان",
  accountRequired: "مطلوب حساب",
  loginToAccessProfile:
    "الرجاء تسجيل الدخول للوصول إلى ملفك الشخصي وإدارة إعلاناتك.",
  error: "خطأ",
  success: "نجاح",
  failedToFetchProfile: "فشل في جلب تفاصيل الملف الشخصي",
  failedToFetchListings: "فشل في جلب إعلاناتك",
  photoPermissionRequired: "الإذن للوصول إلى الصور مطلوب",
  profileImageUpdated: "تم تحديث صورة الملف الشخصي بنجاح",
  failedToUpdateImage: "فشل في تحديث صورة الملف الشخصي",
  profileUpdated: "تم تحديث الملف الشخصي بنجاح",
  failedToUpdateProfile: "فشل في تحديث الملف الشخصي",
  loggedOut: "تم تسجيل الخروج بنجاح",
  failedToLogout: "فشل في تسجيل الخروج",
  languageChanged: "تم تغيير اللغة بنجاح",
  languageChangeFailed: "فشل في تغيير اللغة",
  listingDeleted: "تم حذف الإعلان بنجاح",
  failedToDeleteListing: "فشل في حذف الإعلان",
  confirmDelete: "تأكيد الحذف",
  deleteListingConfirmMessage:
    "هل أنت متأكد من رغبتك في حذف هذا الإعلان؟ لا يمكن التراجع عن هذا الإجراء.",
  delete: "حذف",
  confirmLogout: "تأكيد تسجيل الخروج",
  logoutConfirmMessage: "هل أنت متأكد من رغبتك في تسجيل الخروج من حسابك؟",
  logout: "تسجيل الخروج",
  aboutUsContent:
    "سوق سوريا هو منصة لبيع وشراء السيارات في سوريا. نهدف إلى توفير تجربة سلسة لمستخدمينا.",
  termsOfUseContent:
    "باستخدامك لتطبيقنا، فإنك توافق على شروط الاستخدام الخاصة بنا. يرجى قراءتها بعناية.",
  privacyPolicyContent:
    "نحن نقدر خصوصيتك. اقرأ سياسة الخصوصية الخاصة بنا لفهم كيفية جمع واستخدام بياناتك.",
  contactUsContent:
    "لأي استفسارات، يرجى الاتصال بنا على support@syriasouq.com أو الاتصال على +963 11 1234567.",
  phone: "رقم الهاتف",
  email: "البريد الإلكتروني",
  welcome: "مرحباً",
  loading: "جاري التحميل...",
  save: "حفظ",
  edit: "تعديل",
  search: "بحث",
  filter: "تصفية",
  sort: "ترتيب",
  price: "السعر",
  location: "الموقع",
  category: "الفئة",
  description: "الوصف",
  images: "الصور",
  contact: "اتصال",
  seller: "البائع",
  buyer: "المشتري",
  message: "رسالة",
  send: "إرسال",
  received: "مستلم",
  online: "متصل",
  offline: "غير متصل",
  settings: "الإعدادات",
  notifications: "الإشعارات",
  privacy: "الخصوصية",
  terms: "الشروط والأحكام",
  about: "حول",
  help: "مساعدة",
  support: "الدعم",
  version: "الإصدار",
};

// Initialize i18n synchronously WITHOUT RTL FORCING
i18n.use(initReactI18next).init({
  compatibilityJSON: "v4",
  resources: {
    en: { translation: en },
    ar: { translation: ar },
  },
  lng: "ar", // Default to Arabic
  fallbackLng: "ar",
  interpolation: {
    escapeValue: false,
  },
  react: {
    useSuspense: false,
  },
});

// Load saved language preference
AsyncStorage.getItem("user-language").then((savedLang) => {
  if (savedLang && (savedLang === "en" || savedLang === "ar")) {
    i18n.changeLanguage(savedLang);
  }
});

// DO NOT FORCE RTL GLOBALLY - Let individual components handle text direction
export default i18n;
